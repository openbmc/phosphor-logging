{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "2caf9cbe_d6c8cbcb",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2024-05-29T21:59:44Z",
      "side": 1,
      "message": "Have you seen https://gerrit.openbmc.org/c/openbmc/docs/+/71489 that also proposes removing the journal from event logs?  Maybe that never comes to fruition, or maybe it takes a very long time, but if nothing else is there anything in that doc that could help here?",
      "revId": "422dd7f8fd094b3a00c189033280832c1eba4d1b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ef8ead4d_cf168dc4",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 1001371
      },
      "writtenOn": "2024-05-31T02:31:26Z",
      "side": 1,
      "message": "Sorry, I haven\u0027t noticed it yet, Iâ€˜ll look into it.",
      "parentUuid": "2caf9cbe_d6c8cbcb",
      "revId": "422dd7f8fd094b3a00c189033280832c1eba4d1b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "50388266_10262a2a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 1001371
      },
      "writtenOn": "2024-11-25T16:46:34Z",
      "side": 1,
      "message": "I read through this document, and it seems like this might require a significant amount of refactoring. I was wondering if maintaining the current end-to-end design without impacting the existing architecture would be the most convenient approach.",
      "parentUuid": "ef8ead4d_cf168dc4",
      "revId": "422dd7f8fd094b3a00c189033280832c1eba4d1b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e68d7817_8a8a3844",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2024-12-11T17:19:47Z",
      "side": 1,
      "message": "\u003e significant amount of refactoring\n\nThe work is basically done now, just leaving having to define the events using the new YAML format.\n\n\n@Patrick can you weigh in on whether you think it\u0027s worth fixing this old API?",
      "parentUuid": "50388266_10262a2a",
      "revId": "422dd7f8fd094b3a00c189033280832c1eba4d1b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d223b5c6_7e92f3c6",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 43,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2024-05-29T21:59:44Z",
      "side": 1,
      "message": "So no changes needed at the call sites, right?",
      "revId": "422dd7f8fd094b3a00c189033280832c1eba4d1b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0622de03_4dbb17bb",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 43,
      "author": {
        "id": 1001371
      },
      "writtenOn": "2024-05-31T02:31:26Z",
      "side": 1,
      "message": "If we accept directly overriding the original function (instead of using a new API report_metadata), no modifications are needed at the call sites. The current changes have undergone extensive stress testing, and no log loss has been observed.",
      "parentUuid": "d223b5c6_7e92f3c6",
      "revId": "422dd7f8fd094b3a00c189033280832c1eba4d1b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a73d9fb1_72db4550",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 43,
      "author": {
        "id": 1001371
      },
      "writtenOn": "2024-11-25T16:46:34Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "0622de03_4dbb17bb",
      "revId": "422dd7f8fd094b3a00c189033280832c1eba4d1b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "88343574_3c102664",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 47,
      "author": {
        "id": 1000044
      },
      "writtenOn": "2024-05-24T02:52:14Z",
      "side": 1,
      "message": "This approach can mitigate issues by creating the log entry directly with metadata as the parameters of the call, instead of consuming the sd-journal.",
      "range": {
        "startLine": 46,
        "startChar": 0,
        "endLine": 47,
        "endChar": 46
      },
      "revId": "422dd7f8fd094b3a00c189033280832c1eba4d1b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bb7a67d3_e34b3121",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 47,
      "author": {
        "id": 1001371
      },
      "writtenOn": "2024-05-24T05:55:14Z",
      "side": 1,
      "message": "yup, currently the log chain is:\n1, log generate app -\u003e journald\u0027\n2, log generate app -\u003e (dbus-call) logging\n3, logging notify(dbus) systemd sent signal to journald\n4, journald write file to local storage\n5, logging wait journald write done (we expect it, but in reality it is not.)\n6, get metadata...\n\nthe chain is too long, there are often difficult to diagnose and reproduce.",
      "parentUuid": "88343574_3c102664",
      "range": {
        "startLine": 46,
        "startChar": 0,
        "endLine": 47,
        "endChar": 46
      },
      "revId": "422dd7f8fd094b3a00c189033280832c1eba4d1b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5eb3ab95_d4f5df42",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 47,
      "author": {
        "id": 1001371
      },
      "writtenOn": "2024-11-25T16:46:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bb7a67d3_e34b3121",
      "range": {
        "startLine": 46,
        "startChar": 0,
        "endLine": 47,
        "endChar": 46
      },
      "revId": "422dd7f8fd094b3a00c189033280832c1eba4d1b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8c123bc0_67d115b0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1001371
      },
      "writtenOn": "2024-05-29T06:53:50Z",
      "side": 1,
      "message": "Hi, Friendly ping",
      "revId": "422dd7f8fd094b3a00c189033280832c1eba4d1b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "94a38754_975bdcf4",
        "filename": "lib/elog.cpp",
        "patchSetId": 3
      },
      "lineNbr": 56,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2024-05-29T21:59:44Z",
      "side": 1,
      "message": "I kinda liked how the other versions would automatically add _PID to the additional data by pulling it from the journal.  I there a way to still get that here?",
      "revId": "422dd7f8fd094b3a00c189033280832c1eba4d1b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "20a89449_f6231ad6",
        "filename": "lib/elog.cpp",
        "patchSetId": 3
      },
      "lineNbr": 56,
      "author": {
        "id": 1001371
      },
      "writtenOn": "2024-05-31T02:31:26Z",
      "side": 1,
      "message": "all right, we could.",
      "parentUuid": "94a38754_975bdcf4",
      "revId": "422dd7f8fd094b3a00c189033280832c1eba4d1b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "303f508f_99af2101",
        "filename": "lib/elog.cpp",
        "patchSetId": 3
      },
      "lineNbr": 56,
      "author": {
        "id": 1001371
      },
      "writtenOn": "2024-11-25T16:46:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "20a89449_f6231ad6",
      "revId": "422dd7f8fd094b3a00c189033280832c1eba4d1b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "619f95eb_9b813c29",
        "filename": "lib/include/phosphor-logging/elog.hpp",
        "patchSetId": 3
      },
      "lineNbr": 115,
      "author": {
        "id": 1000044
      },
      "writtenOn": "2024-05-24T02:52:14Z",
      "side": 1,
      "message": "Possibly `const \u0026`",
      "range": {
        "startLine": 115,
        "startChar": 34,
        "endLine": 115,
        "endChar": 68
      },
      "revId": "422dd7f8fd094b3a00c189033280832c1eba4d1b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a6f22eb4_a859740e",
        "filename": "lib/include/phosphor-logging/elog.hpp",
        "patchSetId": 3
      },
      "lineNbr": 115,
      "author": {
        "id": 1001371
      },
      "writtenOn": "2024-11-25T16:46:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "619f95eb_9b813c29",
      "range": {
        "startLine": 115,
        "startChar": 34,
        "endLine": 115,
        "endChar": 68
      },
      "revId": "422dd7f8fd094b3a00c189033280832c1eba4d1b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0d1c787b_1d150c56",
        "filename": "tools/phosphor-logging/templates/elog-gen-template.mako.hpp",
        "patchSetId": 3
      },
      "lineNbr": 79,
      "author": {
        "id": 1000044
      },
      "writtenOn": "2024-05-24T02:52:14Z",
      "side": 1,
      "message": "Need to check `if (n \u003c 0)` to handle the error case.",
      "revId": "422dd7f8fd094b3a00c189033280832c1eba4d1b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "94dec923_4fd98539",
        "filename": "tools/phosphor-logging/templates/elog-gen-template.mako.hpp",
        "patchSetId": 3
      },
      "lineNbr": 79,
      "author": {
        "id": 1001371
      },
      "writtenOn": "2024-11-25T16:46:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0d1c787b_1d150c56",
      "revId": "422dd7f8fd094b3a00c189033280832c1eba4d1b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}