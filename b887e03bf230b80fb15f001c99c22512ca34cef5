{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "de795b80_828e6e96",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000044
      },
      "writtenOn": "2022-03-29T08:59:10Z",
      "side": 1,
      "message": "There is a detailed background and description in the mailing list:\nhttps://lore.kernel.org/openbmc/CAGm54UHcnniKsN_5AyeTn6NGNGXTSv28UmpDYQ+rjug_MFSyrw@mail.gmail.com/T/#t",
      "revId": "b887e03bf230b80fb15f001c99c22512ca34cef5",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1bdfb8fb_5317d185",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2022-03-29T13:09:26Z",
      "side": 1,
      "message": "This happens before the bus name is even claimed, so when the mapper gets the nameownerchanged signal it will property introspect the object.  I\u0027m not convinced yet this is necessary.",
      "revId": "b887e03bf230b80fb15f001c99c22512ca34cef5",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "53ab701d_2d92172a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2022-03-29T15:41:12Z",
      "side": 1,
      "message": "ok, finally got caught up from vacation and read the emails.\n\nI still think that claiming a bus name after the objects are on d-bus and not emitting an interfaces added for each one is a valid thing to do, and is how PIM works as well.\n\nIt used to emit objects added, and it caused all sorts of problems because the mapper introspecting 3000 new objects that come online at once can cause other daemons making mapper calls to time out.\n\nand also, bmcweb is listening for (possibly still in review upstream) event logs to emit them as bmcweb events, and so it would re-emit event logs even though they aren\u0027t new.\n\nSo, is there a  different solution we can come up with for this?",
      "parentUuid": "1bdfb8fb_5317d185",
      "revId": "b887e03bf230b80fb15f001c99c22512ca34cef5",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1bac6291_92b42a94",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-03-29T17:19:20Z",
      "side": 1,
      "message": "\u003e I still think that claiming a bus name after the objects are on d-bus and not emitting an interfaces added for each one is a valid thing to do, and is how PIM works as well.\n\nYes, I agree with this.  That\u0027s exactly what daemons are suppose to do.  Add all their initial / static objects and only then claim the service name.\n\nI thought though that the object-manager doesn\u0027t actually emit the signals on the dbus until the service name is claimed and just eats them.  Is there potentially a side-effect of calling the `emit_added` that the object-manager is now aware of the interface and will _later_ emit the Removed signals?  I looked at both the `sd_bus_emit_interfaces_added_strv` and `sd_bus_emit_interfaces_removed_strv` and I don\u0027t see any side-effects like this.",
      "parentUuid": "53ab701d_2d92172a",
      "revId": "b887e03bf230b80fb15f001c99c22512ca34cef5",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}